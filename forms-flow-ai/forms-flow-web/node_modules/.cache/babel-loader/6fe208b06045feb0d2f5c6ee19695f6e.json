{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Devin\\\\AOT_Projects\\\\jag-servebc\\\\forms-flow-ai\\\\forms-flow-web\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectSpread2.js\";\nimport _objectWithoutProperties from \"C:\\\\Users\\\\Devin\\\\AOT_Projects\\\\jag-servebc\\\\forms-flow-ai\\\\forms-flow-web\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectWithoutProperties.js\";\nvar _excluded = [\"component\"],\n    _excluded2 = [\"component\"];\n\nvar _jsxFileName = \"C:\\\\Users\\\\Devin\\\\AOT_Projects\\\\jag-servebc\\\\forms-flow-ai\\\\forms-flow-web\\\\src\\\\components\\\\PrivateRoute.jsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useEffect, Suspense, lazy } from \"react\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport UserService from \"../services/UserService\";\nimport { setUserAuth } from \"../actions/bpmActions\";\nimport { CLIENT, STAFF_REVIEWER } from \"../constants/constants\";\nimport Loading from \"../containers/Loading\";\nimport NotFound from \"./NotFound\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar Form = /*#__PURE__*/lazy(_c = function _c() {\n  return import('./Form');\n});\n_c2 = Form;\nvar ServiceFlow = /*#__PURE__*/lazy(_c3 = function _c3() {\n  return import('./ServiceFlow');\n});\n_c4 = ServiceFlow;\nvar DashboardPage = /*#__PURE__*/lazy(_c5 = function _c5() {\n  return import(\"./Dashboard\");\n});\n_c6 = DashboardPage;\nvar InsightsPage = /*#__PURE__*/lazy(_c7 = function _c7() {\n  return import(\"./Insights\");\n});\n_c8 = InsightsPage;\nvar Application = /*#__PURE__*/lazy(_c9 = function _c9() {\n  return import(\"./Application\");\n});\n_c10 = Application;\nvar Admin = /*#__PURE__*/lazy(_c11 = function _c11() {\n  return import(\"./Admin\");\n});\n_c12 = Admin;\nvar PrivateRoute = /*#__PURE__*/React.memo(_c13 = _s(function (props) {\n  _s();\n\n  var dispatch = useDispatch();\n  var isAuth = useSelector(function (state) {\n    return state.user.isAuthenticated;\n  });\n  var userRoles = useSelector(function (state) {\n    return state.user.roles || [];\n  });\n  useEffect(function () {\n    if (props.store) {\n      UserService.initKeycloak(props.store, function (err, res) {\n        dispatch(setUserAuth(res.authenticated));\n      });\n    }\n  }, [props.store, dispatch]);\n\n  var ReviewerRoute = function ReviewerRoute(_ref) {\n    var Component = _ref.component,\n        rest = _objectWithoutProperties(_ref, _excluded);\n\n    return /*#__PURE__*/_jsxDEV(Route, _objectSpread(_objectSpread({}, rest), {}, {\n      render: function render(props) {\n        return userRoles.includes(STAFF_REVIEWER) ? /*#__PURE__*/_jsxDEV(Component, _objectSpread({}, props), void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, _this) : /*#__PURE__*/_jsxDEV(Redirect, {\n          exact: true,\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, _this);\n      }\n    }), void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }, _this);\n  };\n\n  var ClientReviewerRoute = function ClientReviewerRoute(_ref2) {\n    var Component = _ref2.component,\n        rest = _objectWithoutProperties(_ref2, _excluded2);\n\n    return /*#__PURE__*/_jsxDEV(Route, _objectSpread(_objectSpread({}, rest), {}, {\n      render: function render(props) {\n        return userRoles.includes(STAFF_REVIEWER) || userRoles.includes(CLIENT) ? /*#__PURE__*/_jsxDEV(Component, _objectSpread({}, props), void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, _this) : /*#__PURE__*/_jsxDEV(Redirect, {\n          exact: true,\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, _this);\n      }\n    }), void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }, _this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: isAuth ? /*#__PURE__*/_jsxDEV(Suspense, {\n      fallback: /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 29\n      }, _this),\n      children: /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/form\",\n          component: Form\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/admin\",\n          component: Admin\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/formflow\",\n          component: Form\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(ClientReviewerRoute, {\n          path: \"/application\",\n          component: Application\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(ReviewerRoute, {\n          path: \"/metrics\",\n          component: DashboardPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(ReviewerRoute, {\n          path: \"/task\",\n          component: ServiceFlow\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(ReviewerRoute, {\n          path: \"/insights\",\n          component: InsightsPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/\",\n          children: /*#__PURE__*/_jsxDEV(Redirect, {\n            to: userRoles.includes(STAFF_REVIEWER) ? '/task' : '/form'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/404\",\n          exact: true,\n          component: NotFound\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(Redirect, {\n          from: \"*\",\n          to: \"/404\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, _this) : /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, _this)\n  }, void 0, false);\n}, \"jBrGaHWO3BvNRLZz5oHrrvHOcvk=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n}));\n_c14 = PrivateRoute;\nexport default PrivateRoute;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14;\n\n$RefreshReg$(_c, \"Form$lazy\");\n$RefreshReg$(_c2, \"Form\");\n$RefreshReg$(_c3, \"ServiceFlow$lazy\");\n$RefreshReg$(_c4, \"ServiceFlow\");\n$RefreshReg$(_c5, \"DashboardPage$lazy\");\n$RefreshReg$(_c6, \"DashboardPage\");\n$RefreshReg$(_c7, \"InsightsPage$lazy\");\n$RefreshReg$(_c8, \"InsightsPage\");\n$RefreshReg$(_c9, \"Application$lazy\");\n$RefreshReg$(_c10, \"Application\");\n$RefreshReg$(_c11, \"Admin$lazy\");\n$RefreshReg$(_c12, \"Admin\");\n$RefreshReg$(_c13, \"PrivateRoute$React.memo\");\n$RefreshReg$(_c14, \"PrivateRoute\");","map":{"version":3,"sources":["C:/Users/Devin/AOT_Projects/jag-servebc/forms-flow-ai/forms-flow-web/src/components/PrivateRoute.jsx"],"names":["React","useEffect","Suspense","lazy","Route","Switch","Redirect","useDispatch","useSelector","UserService","setUserAuth","CLIENT","STAFF_REVIEWER","Loading","NotFound","Form","ServiceFlow","DashboardPage","InsightsPage","Application","Admin","PrivateRoute","memo","props","dispatch","isAuth","state","user","isAuthenticated","userRoles","roles","store","initKeycloak","err","res","authenticated","ReviewerRoute","Component","component","rest","includes","ClientReviewerRoute"],"mappings":"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","sourcesContent":["import React, {useEffect, Suspense, lazy} from \"react\";\r\nimport {Route, Switch, Redirect} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\n\r\nimport UserService from \"../services/UserService\";\r\nimport {setUserAuth} from \"../actions/bpmActions\";\r\nimport {CLIENT, STAFF_REVIEWER} from \"../constants/constants\";\r\n\r\nimport Loading from \"../containers/Loading\";\r\nimport NotFound from \"./NotFound\";\r\n\r\nconst Form = lazy(() => import('./Form'));\r\nconst ServiceFlow = lazy(() => import('./ServiceFlow'));\r\nconst DashboardPage = lazy(() => import(\"./Dashboard\"));\r\nconst InsightsPage = lazy(() => import(\"./Insights\"));\r\nconst Application = lazy(() => import(\"./Application\"));\r\nconst Admin = lazy(() => import(\"./Admin\"))\r\nconst PrivateRoute = React.memo((props) => {\r\n  const dispatch = useDispatch();\r\n  const isAuth = useSelector((state) => state.user.isAuthenticated);\r\n  const userRoles = useSelector((state) => state.user.roles || []);\r\n\r\n  useEffect(() => {\r\n    if (props.store) {\r\n      UserService.initKeycloak(props.store, (err, res) => {\r\n        dispatch(setUserAuth(res.authenticated));\r\n      });\r\n    }\r\n  }, [props.store, dispatch]);\r\n\r\n  const ReviewerRoute = ({component: Component, ...rest}) => (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        userRoles.includes(STAFF_REVIEWER) ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect exact to=\"/\"/>\r\n        )\r\n      }\r\n    />\r\n  );\r\n\r\n  const ClientReviewerRoute = ({component: Component, ...rest}) => (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        userRoles.includes(STAFF_REVIEWER) || userRoles.includes(CLIENT) ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect exact to=\"/\"/>\r\n        )\r\n      }\r\n    />\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {isAuth ? (\r\n        <Suspense fallback={<Loading/>}>\r\n          <Switch>\r\n            <Route path=\"/form\" component={Form}/>\r\n            <Route path=\"/admin\" component={Admin}/>\r\n            <Route path=\"/formflow\" component={Form}/>\r\n            <ClientReviewerRoute path=\"/application\" component={Application}/>\r\n            <ReviewerRoute path=\"/metrics\" component={DashboardPage}/>\r\n            <ReviewerRoute path=\"/task\" component={ServiceFlow}/>\r\n            <ReviewerRoute path=\"/insights\" component={InsightsPage}/>\r\n            <Route exact path=\"/\">\r\n              <Redirect to={userRoles.includes(STAFF_REVIEWER) ? '/task' : '/form'}/>\r\n            </Route>\r\n            <Route path='/404' exact={true} component={NotFound}/>\r\n            <Redirect from='*' to='/404'/>\r\n          </Switch>\r\n        </Suspense>\r\n      ) : (\r\n        <Loading/>\r\n      )}\r\n    </>\r\n  );\r\n})\r\n\r\nexport default PrivateRoute;\r\n"]},"metadata":{},"sourceType":"module"}