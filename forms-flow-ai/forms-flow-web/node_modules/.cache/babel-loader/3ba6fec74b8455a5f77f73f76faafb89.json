{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es.array.filter.js\");\n\nrequire(\"core-js/modules/es.array.splice.js\");\n\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\n\nvar _Evaluator = _interopRequireDefault(require(\"../../../../utils/Evaluator\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar EditFormUtils = {\n  sortAndFilterComponents: function sortAndFilterComponents(components) {\n    return _lodash.default.filter(_lodash.default.sortBy(components, 'weight'), function (item) {\n      return !item.ignore;\n    });\n  },\n  unifyComponents: function unifyComponents(objValue, srcValue) {\n    if (objValue.key && srcValue.key) {\n      if (objValue.skipMerge || srcValue.skipMerge) {\n        return false;\n      }\n\n      if (objValue.key === srcValue.key) {\n        // Create complete objects by including missing keys.\n        _lodash.default.each(objValue, function (value, prop) {\n          if (objValue.overrideEditForm || !srcValue.hasOwnProperty(prop)) {\n            srcValue[prop] = value;\n          }\n        });\n\n        _lodash.default.each(srcValue, function (value, prop) {\n          if (srcValue.overrideEditForm || !objValue.hasOwnProperty(prop)) {\n            objValue[prop] = value;\n          }\n        });\n\n        if (objValue.components) {\n          srcValue.components = EditFormUtils.sortAndFilterComponents(_lodash.default.unionWith(objValue.components, srcValue.components, EditFormUtils.unifyComponents));\n        }\n\n        return true;\n      } else {\n        return false;\n      }\n    }\n\n    return _lodash.default.isEqual(objValue, srcValue);\n  },\n  logicVariablesTable: function logicVariablesTable(additional) {\n    additional = additional || '';\n    return {\n      type: 'htmlelement',\n      tag: 'div',\n\n      /* eslint-disable prefer-template */\n      content: '<p>The following variables are available in all scripts.</p>' + '<table class=\"table table-bordered table-condensed table-striped\">' + additional + '<tr><th>form</th><td>The complete form JSON object</td></tr>' + '<tr><th>submission</th><td>The complete submission object.</td></tr>' + '<tr><th>data</th><td>The complete submission data object.</td></tr>' + '<tr><th>row</th><td>Contextual \"row\" data, used within DataGrid, EditGrid, and Container components</td></tr>' + '<tr><th>component</th><td>The current component JSON</td></tr>' + '<tr><th>instance</th><td>The current component instance.</td></tr>' + '<tr><th>value</th><td>The current value of the component.</td></tr>' + '<tr><th>moment</th><td>The moment.js library for date manipulation.</td></tr>' + '<tr><th>_</th><td>An instance of <a href=\"https://lodash.com/docs/\" target=\"_blank\">Lodash</a>.</td></tr>' + '<tr><th>utils</th><td>An instance of the <a href=\"http://formio.github.io/formio.js/docs/identifiers.html#utils\" target=\"_blank\">FormioUtils</a> object.</td></tr>' + '<tr><th>util</th><td>An alias for \"utils\".</td></tr>' + '</table><br/>'\n      /* eslint-enable prefer-template */\n\n    };\n  },\n  javaScriptValue: function javaScriptValue(title, property, propertyJSON, weight, exampleHTML, exampleJSON) {\n    var additionalParams = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : '';\n    var excludeJSONLogic = arguments.length > 7 ? arguments[7] : undefined;\n    var components = [this.logicVariablesTable(additionalParams), {\n      type: 'panel',\n      title: 'JavaScript',\n      collapsible: true,\n      collapsed: false,\n      style: {\n        'margin-bottom': '10px'\n      },\n      key: \"\".concat(property, \"-js\"),\n      customConditional: function customConditional() {\n        return !_Evaluator.default.noeval || _Evaluator.default.protectedEval;\n      },\n      components: [{\n        type: 'textarea',\n        key: property,\n        rows: 5,\n        editor: 'ace',\n        hideLabel: true,\n        as: 'javascript',\n        input: true\n      }, {\n        type: 'htmlelement',\n        tag: 'div',\n        content: \"<p>Enter custom javascript code.</p>\".concat(exampleHTML)\n      }]\n    }, {\n      type: 'panel',\n      title: 'JSONLogic',\n      collapsible: true,\n      collapsed: true,\n      key: \"\".concat(property, \"-json\"),\n      components: [{\n        type: 'htmlelement',\n        tag: 'div',\n\n        /* eslint-disable prefer-template */\n        content: '<p>Execute custom logic using <a href=\"http://jsonlogic.com/\" target=\"_blank\">JSONLogic</a>.</p>' + '<p>Full <a href=\"https://lodash.com/docs\" target=\"_blank\">Lodash</a> support is provided using an \"_\" before each operation, such as <code>{\"_sum\": {var: \"data.a\"}}</code></p>' + exampleJSON\n        /* eslint-enable prefer-template */\n\n      }, {\n        type: 'textarea',\n        key: propertyJSON,\n        rows: 5,\n        editor: 'ace',\n        hideLabel: true,\n        as: 'json',\n        input: true\n      }]\n    }];\n\n    if (excludeJSONLogic) {\n      components.splice(2, 1);\n    }\n\n    return {\n      type: 'panel',\n      title: title,\n      theme: 'default',\n      collapsible: true,\n      collapsed: true,\n      key: \"\".concat(property, \"Panel\"),\n      weight: weight,\n      components: components\n    };\n  }\n};\nvar _default = EditFormUtils;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/Devin/AOT_Projects/jag-servebc/forms-flow-ai/forms-flow-web/node_modules/formiojs/components/_classes/component/editForm/utils.js"],"names":["Object","defineProperty","exports","value","default","require","_lodash","_interopRequireDefault","_Evaluator","obj","__esModule","EditFormUtils","sortAndFilterComponents","components","filter","sortBy","item","ignore","unifyComponents","objValue","srcValue","key","skipMerge","each","prop","overrideEditForm","hasOwnProperty","unionWith","isEqual","logicVariablesTable","additional","type","tag","content","javaScriptValue","title","property","propertyJSON","weight","exampleHTML","exampleJSON","additionalParams","arguments","length","undefined","excludeJSONLogic","collapsible","collapsed","style","concat","customConditional","noeval","protectedEval","rows","editor","hideLabel","as","input","splice","theme","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es.array.filter.js\");\n\nrequire(\"core-js/modules/es.array.splice.js\");\n\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\n\nvar _Evaluator = _interopRequireDefault(require(\"../../../../utils/Evaluator\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar EditFormUtils = {\n  sortAndFilterComponents: function sortAndFilterComponents(components) {\n    return _lodash.default.filter(_lodash.default.sortBy(components, 'weight'), function (item) {\n      return !item.ignore;\n    });\n  },\n  unifyComponents: function unifyComponents(objValue, srcValue) {\n    if (objValue.key && srcValue.key) {\n      if (objValue.skipMerge || srcValue.skipMerge) {\n        return false;\n      }\n\n      if (objValue.key === srcValue.key) {\n        // Create complete objects by including missing keys.\n        _lodash.default.each(objValue, function (value, prop) {\n          if (objValue.overrideEditForm || !srcValue.hasOwnProperty(prop)) {\n            srcValue[prop] = value;\n          }\n        });\n\n        _lodash.default.each(srcValue, function (value, prop) {\n          if (srcValue.overrideEditForm || !objValue.hasOwnProperty(prop)) {\n            objValue[prop] = value;\n          }\n        });\n\n        if (objValue.components) {\n          srcValue.components = EditFormUtils.sortAndFilterComponents(_lodash.default.unionWith(objValue.components, srcValue.components, EditFormUtils.unifyComponents));\n        }\n\n        return true;\n      } else {\n        return false;\n      }\n    }\n\n    return _lodash.default.isEqual(objValue, srcValue);\n  },\n  logicVariablesTable: function logicVariablesTable(additional) {\n    additional = additional || '';\n    return {\n      type: 'htmlelement',\n      tag: 'div',\n\n      /* eslint-disable prefer-template */\n      content: '<p>The following variables are available in all scripts.</p>' + '<table class=\"table table-bordered table-condensed table-striped\">' + additional + '<tr><th>form</th><td>The complete form JSON object</td></tr>' + '<tr><th>submission</th><td>The complete submission object.</td></tr>' + '<tr><th>data</th><td>The complete submission data object.</td></tr>' + '<tr><th>row</th><td>Contextual \"row\" data, used within DataGrid, EditGrid, and Container components</td></tr>' + '<tr><th>component</th><td>The current component JSON</td></tr>' + '<tr><th>instance</th><td>The current component instance.</td></tr>' + '<tr><th>value</th><td>The current value of the component.</td></tr>' + '<tr><th>moment</th><td>The moment.js library for date manipulation.</td></tr>' + '<tr><th>_</th><td>An instance of <a href=\"https://lodash.com/docs/\" target=\"_blank\">Lodash</a>.</td></tr>' + '<tr><th>utils</th><td>An instance of the <a href=\"http://formio.github.io/formio.js/docs/identifiers.html#utils\" target=\"_blank\">FormioUtils</a> object.</td></tr>' + '<tr><th>util</th><td>An alias for \"utils\".</td></tr>' + '</table><br/>'\n      /* eslint-enable prefer-template */\n\n    };\n  },\n  javaScriptValue: function javaScriptValue(title, property, propertyJSON, weight, exampleHTML, exampleJSON) {\n    var additionalParams = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : '';\n    var excludeJSONLogic = arguments.length > 7 ? arguments[7] : undefined;\n    var components = [this.logicVariablesTable(additionalParams), {\n      type: 'panel',\n      title: 'JavaScript',\n      collapsible: true,\n      collapsed: false,\n      style: {\n        'margin-bottom': '10px'\n      },\n      key: \"\".concat(property, \"-js\"),\n      customConditional: function customConditional() {\n        return !_Evaluator.default.noeval || _Evaluator.default.protectedEval;\n      },\n      components: [{\n        type: 'textarea',\n        key: property,\n        rows: 5,\n        editor: 'ace',\n        hideLabel: true,\n        as: 'javascript',\n        input: true\n      }, {\n        type: 'htmlelement',\n        tag: 'div',\n        content: \"<p>Enter custom javascript code.</p>\".concat(exampleHTML)\n      }]\n    }, {\n      type: 'panel',\n      title: 'JSONLogic',\n      collapsible: true,\n      collapsed: true,\n      key: \"\".concat(property, \"-json\"),\n      components: [{\n        type: 'htmlelement',\n        tag: 'div',\n\n        /* eslint-disable prefer-template */\n        content: '<p>Execute custom logic using <a href=\"http://jsonlogic.com/\" target=\"_blank\">JSONLogic</a>.</p>' + '<p>Full <a href=\"https://lodash.com/docs\" target=\"_blank\">Lodash</a> support is provided using an \"_\" before each operation, such as <code>{\"_sum\": {var: \"data.a\"}}</code></p>' + exampleJSON\n        /* eslint-enable prefer-template */\n\n      }, {\n        type: 'textarea',\n        key: propertyJSON,\n        rows: 5,\n        editor: 'ace',\n        hideLabel: true,\n        as: 'json',\n        input: true\n      }]\n    }];\n\n    if (excludeJSONLogic) {\n      components.splice(2, 1);\n    }\n\n    return {\n      type: 'panel',\n      title: title,\n      theme: 'default',\n      collapsible: true,\n      collapsed: true,\n      key: \"\".concat(property, \"Panel\"),\n      weight: weight,\n      components: components\n    };\n  }\n};\nvar _default = EditFormUtils;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}