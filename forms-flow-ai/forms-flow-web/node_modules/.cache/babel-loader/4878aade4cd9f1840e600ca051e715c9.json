{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Devin\\\\AOT_Projects\\\\jag-servebc\\\\forms-flow-ai\\\\forms-flow-web\\\\src\\\\components\\\\Application\\\\ViewApplication.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { Link, useParams } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport startCase from \"lodash/startCase\";\nimport { Tabs, Tab } from \"react-bootstrap\";\nimport Details from \"./Details\";\nimport { getApplicationById } from \"../../apiManager/services/applicationServices\";\nimport Loading from \"../../containers/Loading\";\nimport { setApplicationDetailLoader, setApplicationDetailStatusCode } from \"../../actions/applicationActions\";\nimport ProcessDiagram from \"../BPMN/ProcessDiagramHook\";\nimport History from \"./ApplicationHistory\";\nimport View from \"../Form/Item/Submission/Item/View\";\nimport { getForm, getSubmission } from \"react-formio\";\nimport NotFound from \"../NotFound\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar ViewApplication = /*#__PURE__*/React.memo(_c = _s(function () {\n  _s();\n\n  var _useParams = useParams(),\n      applicationId = _useParams.applicationId;\n\n  var applicationDetail = useSelector(function (state) {\n    return state.applications.applicationDetail;\n  });\n  var applicationDetailStatusCode = useSelector(function (state) {\n    return state.applications.applicationDetailStatusCode;\n  });\n  var isApplicationDetailLoading = useSelector(function (state) {\n    return state.applications.isApplicationDetailLoading;\n  });\n  var applicationProcess = useSelector(function (state) {\n    return state.applications.applicationProcess;\n  });\n  var dispatch = useDispatch();\n  useEffect(function () {\n    dispatch(setApplicationDetailLoader(true));\n    dispatch(getApplicationById(applicationId, function (err, res) {\n      if (!err) {\n        if (res.submissionId && res.formId) {\n          dispatch(getForm(\"form\", res.formId));\n          dispatch(getSubmission(\"submission\", res.submissionId, res.formId));\n        }\n      }\n    }));\n    return function () {\n      dispatch(setApplicationDetailLoader(true));\n      dispatch(setApplicationDetailStatusCode(''));\n    };\n  }, [applicationId, dispatch]);\n\n  if (isApplicationDetailLoading) {\n    return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 12\n    }, _this);\n  }\n\n  if (Object.keys(applicationDetail).length === 0 && applicationDetailStatusCode === 403) {\n    return /*#__PURE__*/_jsxDEV(NotFound, {\n      errorMessage: \"Access Denied\",\n      errorCode: applicationDetailStatusCode\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 12\n    }, _this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-header\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/application\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-chevron-left fa-lg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 9\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"ml-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"application-head-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-list-alt\",\n            \"aria-hidden\": \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 54\n          }, _this), \"\\xA0 Applications /\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, _this), \" \", \"\".concat(startCase(applicationDetail.applicationName))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(Tabs, {\n      id: \"application-details\",\n      defaultActiveKey: \"details\",\n      mountOnEnter: true,\n      children: [/*#__PURE__*/_jsxDEV(Tab, {\n        eventKey: \"details\",\n        title: \"Details\",\n        children: /*#__PURE__*/_jsxDEV(Details, {\n          application: applicationDetail\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Tab, {\n        eventKey: \"form\",\n        title: \"Form\",\n        children: /*#__PURE__*/_jsxDEV(View, {\n          page: \"application-detail\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Tab, {\n        eventKey: \"history\",\n        title: \"History\",\n        children: /*#__PURE__*/_jsxDEV(History, {\n          page: \"application-detail\",\n          applicationId: applicationId\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Tab, {\n        eventKey: \"process-diagram\",\n        title: \"Process Diagram\",\n        children: /*#__PURE__*/_jsxDEV(ProcessDiagram, {\n          process_key: applicationProcess.processKey,\n          processInstanceId: applicationDetail.processInstanceId\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, _this);\n}, \"u9jk/Uu+rwSYC6xsfC+2kR3gtew=\", false, function () {\n  return [useParams, useSelector, useSelector, useSelector, useSelector, useDispatch];\n}));\n_c2 = ViewApplication;\nexport default ViewApplication;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ViewApplication$React.memo\");\n$RefreshReg$(_c2, \"ViewApplication\");","map":{"version":3,"sources":["C:/Users/Devin/AOT_Projects/jag-servebc/forms-flow-ai/forms-flow-web/src/components/Application/ViewApplication.js"],"names":["React","useEffect","Link","useParams","useDispatch","useSelector","startCase","Tabs","Tab","Details","getApplicationById","Loading","setApplicationDetailLoader","setApplicationDetailStatusCode","ProcessDiagram","History","View","getForm","getSubmission","NotFound","ViewApplication","memo","applicationId","applicationDetail","state","applications","applicationDetailStatusCode","isApplicationDetailLoading","applicationProcess","dispatch","err","res","submissionId","formId","Object","keys","length","applicationName","processKey","processInstanceId"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react'\r\nimport {Link,useParams} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport startCase from \"lodash/startCase\";\r\n\r\nimport {Tabs, Tab} from \"react-bootstrap\";\r\nimport Details from \"./Details\";\r\nimport {getApplicationById} from \"../../apiManager/services/applicationServices\";\r\nimport Loading from \"../../containers/Loading\";\r\nimport {setApplicationDetailLoader, setApplicationDetailStatusCode} from \"../../actions/applicationActions\";\r\nimport ProcessDiagram from \"../BPMN/ProcessDiagramHook\";\r\nimport History from \"./ApplicationHistory\";\r\nimport View from \"../Form/Item/Submission/Item/View\";\r\nimport {getForm, getSubmission} from \"react-formio\";\r\nimport NotFound from \"../NotFound\";\r\n\r\nconst ViewApplication = React.memo(() => {\r\n  const {applicationId} = useParams();\r\n  const applicationDetail = useSelector(state=>state.applications.applicationDetail);\r\n  const applicationDetailStatusCode = useSelector(state=>state.applications.applicationDetailStatusCode)\r\n  const isApplicationDetailLoading = useSelector(state=>state.applications.isApplicationDetailLoading);\r\n  const applicationProcess = useSelector(state => state.applications.applicationProcess);\r\n  const dispatch= useDispatch();\r\n\r\n  useEffect(()=>{\r\n      dispatch(setApplicationDetailLoader(true));\r\n      dispatch(getApplicationById(applicationId,(err,res)=>{\r\n        if (!err) {\r\n          if (res.submissionId && res.formId) {\r\n            dispatch(getForm(\"form\", res.formId));\r\n            dispatch(\r\n              getSubmission(\"submission\", res.submissionId, res.formId)\r\n            );\r\n          }\r\n        }\r\n      }));\r\n\r\n      return ()=>{\r\n        dispatch(setApplicationDetailLoader(true));\r\n        dispatch(setApplicationDetailStatusCode(''));\r\n      }\r\n  },[applicationId, dispatch]);\r\n\r\n  if (isApplicationDetailLoading) {\r\n    return <Loading/>;\r\n  }\r\n\r\n  if(Object.keys(applicationDetail).length===0 && applicationDetailStatusCode===403) {\r\n    return <NotFound errorMessage=\"Access Denied\" errorCode={applicationDetailStatusCode} />\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"main-header\">\r\n        <Link to=\"/application\">\r\n        <i className=\"fa fa-chevron-left fa-lg\" />\r\n        </Link>\r\n        <h3 className=\"ml-3\">\r\n          <span className=\"application-head-details\"><i className=\"fa fa-list-alt\" aria-hidden=\"true\"/>&nbsp; Applications /</span>{\" \"}\r\n          {`${startCase(applicationDetail.applicationName)}`}\r\n        </h3>\r\n      </div>\r\n      <br/>\r\n      <Tabs id=\"application-details\" defaultActiveKey=\"details\" mountOnEnter>\r\n        <Tab eventKey=\"details\" title=\"Details\">\r\n          <Details application={applicationDetail}/>\r\n        </Tab>\r\n        <Tab eventKey=\"form\" title=\"Form\">\r\n          <View page=\"application-detail\"/>\r\n        </Tab>\r\n        <Tab eventKey=\"history\" title=\"History\">\r\n            <History page=\"application-detail\" applicationId={applicationId}/>\r\n        </Tab>\r\n        <Tab eventKey=\"process-diagram\" title=\"Process Diagram\">\r\n            <ProcessDiagram\r\n              process_key={applicationProcess.processKey}\r\n              processInstanceId={applicationDetail.processInstanceId}\r\n            />\r\n        </Tab>\r\n      </Tabs>\r\n    </div>\r\n\r\n  );\r\n})\r\n\r\nexport default ViewApplication;\r\n"]},"metadata":{},"sourceType":"module"}