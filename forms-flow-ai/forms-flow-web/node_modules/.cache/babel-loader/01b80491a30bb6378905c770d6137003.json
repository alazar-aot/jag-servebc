{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Devin\\\\AOT_Projects\\\\jag-servebc\\\\forms-flow-ai\\\\forms-flow-web\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectSpread2.js\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Devin\\\\AOT_Projects\\\\jag-servebc\\\\forms-flow-ai\\\\forms-flow-web\\\\src\\\\components\\\\Application\\\\ApplicationHistory.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport filterFactory from \"react-bootstrap-table2-filter\";\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\nimport ToolkitProvider from \"react-bootstrap-table2-toolkit\";\nimport LoadingOverlay from \"react-loading-overlay\";\nimport \"react-bootstrap-table-next/dist/react-bootstrap-table2.min.css\";\nimport { fetchApplicationAuditHistoryList } from \"../../apiManager/services/applicationAuditServices\";\nimport { columns_history, getoptions, defaultSortedBy } from \"./historyTable\";\nimport Loading from \"../../containers/Loading\";\nimport Nodata from '../../components/Nodata';\nimport { setUpdateHistoryLoader } from \"../../actions/taskApplicationHistoryActions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar HistoryList = /*#__PURE__*/React.memo(_c = _s(function (props) {\n  _s();\n\n  var dispatch = useDispatch();\n  var isHistoryListLoading = useSelector(function (state) {\n    return state.taskAppHistory.isHistoryListLoading;\n  });\n  var appHistory = useSelector(function (state) {\n    return state.taskAppHistory.appHistory;\n  });\n  var applicationId = props.applicationId;\n  useEffect(function () {\n    dispatch(setUpdateHistoryLoader(true));\n  }, [dispatch]);\n  useEffect(function () {\n    if (applicationId && isHistoryListLoading) {\n      dispatch(fetchApplicationAuditHistoryList(applicationId));\n    }\n  }, [applicationId, isHistoryListLoading, dispatch]);\n\n  if (!applicationId) {\n    return /*#__PURE__*/_jsxDEV(Nodata, {\n      text: \"No Application History found\",\n      className: \"div-no-application-list text-center\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 12\n    }, _this);\n  }\n\n  if (isHistoryListLoading) {\n    return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 12\n    }, _this);\n  }\n\n  var getNoDataIndicationContent = function getNoDataIndicationContent() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"div-no-task\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"lbl-no-task\",\n        children: \" No History found \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, _this);\n  };\n\n  return appHistory.length > 0 ? /*#__PURE__*/_jsxDEV(ToolkitProvider, {\n    keyField: \"created\",\n    data: appHistory,\n    columns: columns_history,\n    search: true,\n    children: function children(props) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"main-header\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"task-head\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-list\",\n              \"aria-hidden\": \"true\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 15\n            }, _this), \"\\xA0Application History\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(LoadingOverlay, {\n            active: isHistoryListLoading,\n            spinner: true,\n            text: \"Loading...\",\n            children: /*#__PURE__*/_jsxDEV(BootstrapTable, _objectSpread(_objectSpread({\n              loading: isHistoryListLoading,\n              filter: filterFactory(),\n              pagination: paginationFactory(getoptions(appHistory.length)),\n              defaultSorted: defaultSortedBy\n            }, props.baseProps), {}, {\n              noDataIndication: function noDataIndication() {\n                return getNoDataIndicationContent();\n              }\n            }), void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, _this);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 7\n  }, _this) : /*#__PURE__*/_jsxDEV(Nodata, {\n    text: \"No Application History found\",\n    className: \"div-no-application-list text-center\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 7\n  }, _this);\n}, \"U2uYuUCTq+rs8zt9uWlPlJrEx/g=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n}));\n_c2 = HistoryList;\nexport default HistoryList;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"HistoryList$React.memo\");\n$RefreshReg$(_c2, \"HistoryList\");","map":{"version":3,"sources":["C:/Users/Devin/AOT_Projects/jag-servebc/forms-flow-ai/forms-flow-web/src/components/Application/ApplicationHistory.js"],"names":["React","useEffect","useDispatch","useSelector","BootstrapTable","filterFactory","paginationFactory","ToolkitProvider","LoadingOverlay","fetchApplicationAuditHistoryList","columns_history","getoptions","defaultSortedBy","Loading","Nodata","setUpdateHistoryLoader","HistoryList","memo","props","dispatch","isHistoryListLoading","state","taskAppHistory","appHistory","applicationId","getNoDataIndicationContent","length","baseProps"],"mappings":"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","sourcesContent":["import React, {useEffect} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\n\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport filterFactory from \"react-bootstrap-table2-filter\";\r\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\r\nimport ToolkitProvider from \"react-bootstrap-table2-toolkit\";\r\nimport LoadingOverlay from \"react-loading-overlay\";\r\nimport \"react-bootstrap-table-next/dist/react-bootstrap-table2.min.css\";\r\n\r\nimport {\r\n  fetchApplicationAuditHistoryList\r\n} from \"../../apiManager/services/applicationAuditServices\";\r\nimport {\r\n  columns_history,\r\n  getoptions,\r\n  defaultSortedBy,\r\n} from \"./historyTable\";\r\nimport Loading from \"../../containers/Loading\";\r\nimport Nodata from '../../components/Nodata';\r\nimport {setUpdateHistoryLoader} from \"../../actions/taskApplicationHistoryActions\";\r\n\r\n\r\nconst HistoryList = React.memo((props) => {\r\n  const dispatch = useDispatch();\r\n  const isHistoryListLoading = useSelector(state => state.taskAppHistory.isHistoryListLoading);\r\n  const appHistory = useSelector(state => state.taskAppHistory.appHistory);\r\n  const applicationId = props.applicationId;\r\n\r\n  useEffect(()=>{\r\n    dispatch(setUpdateHistoryLoader(true));\r\n  },[dispatch]);\r\n\r\n  useEffect(() => {\r\n    if(applicationId && isHistoryListLoading) {\r\n        dispatch(fetchApplicationAuditHistoryList(applicationId));\r\n    }\r\n  }, [applicationId, isHistoryListLoading, dispatch]);\r\n\r\n  if(!applicationId){\r\n    return <Nodata text={\"No Application History found\"} className={\"div-no-application-list text-center\"}/>\r\n  }\r\n  if (isHistoryListLoading) {\r\n    return <Loading/>;\r\n  }\r\n\r\n  const getNoDataIndicationContent = () => {\r\n    return (\r\n      <div className=\"div-no-task\">\r\n        <label className=\"lbl-no-task\"> No History found </label>\r\n        <br/>\r\n      </div>\r\n    );\r\n  };\r\n\r\n\r\n\r\n  return (\r\n    appHistory.length > 0 ? (\r\n      <ToolkitProvider\r\n        keyField=\"created\"\r\n        data={appHistory}\r\n        columns={columns_history}\r\n        search\r\n      >\r\n        {(props) => (\r\n          <div className=\"container\">\r\n            <div className=\"main-header\">\r\n              <h3 className=\"task-head\">\r\n              <i className=\"fa fa-list\" aria-hidden=\"true\"/>\r\n              &nbsp;Application History\r\n              </h3>\r\n            </div>\r\n            <br/>\r\n            <div>\r\n              <LoadingOverlay\r\n                active={isHistoryListLoading}\r\n                spinner\r\n                text=\"Loading...\"\r\n              >\r\n                <BootstrapTable\r\n                  loading={isHistoryListLoading}\r\n                  filter={filterFactory()}\r\n                  pagination={paginationFactory(getoptions(appHistory.length))}\r\n                  defaultSorted={defaultSortedBy}\r\n                  {...props.baseProps}\r\n                  noDataIndication={() => getNoDataIndicationContent()}\r\n                />\r\n              </LoadingOverlay>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </ToolkitProvider>\r\n    ) : (\r\n      <Nodata text={\"No Application History found\"} className={\"div-no-application-list text-center\"}/>\r\n    )\r\n  );\r\n});\r\n\r\nexport default HistoryList;\r\n"]},"metadata":{},"sourceType":"module"}