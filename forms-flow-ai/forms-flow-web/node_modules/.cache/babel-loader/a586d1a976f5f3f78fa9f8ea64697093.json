{"ast":null,"code":"\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nrequire(\"core-js/modules/es.reflect.construct.js\");\n\nrequire(\"core-js/modules/es.array.iterator.js\");\n\nrequire(\"core-js/modules/es.string.iterator.js\");\n\nrequire(\"core-js/modules/es.weak-map.js\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptor.js\");\n\nrequire(\"core-js/modules/es.symbol.js\");\n\nrequire(\"core-js/modules/es.symbol.description.js\");\n\nrequire(\"core-js/modules/es.symbol.iterator.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es.object.assign.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.regexp.to-string.js\");\n\nrequire(\"core-js/modules/es.array.concat.js\");\n\nrequire(\"core-js/modules/es.object.get-prototype-of.js\");\n\nvar _Element2 = _interopRequireDefault(require(\"./Element\"));\n\nvar _Formio = require(\"./Formio\");\n\nvar _displays = _interopRequireDefault(require(\"./displays\"));\n\nvar _templates = _interopRequireDefault(require(\"./templates\"));\n\nvar FormioUtils = _interopRequireWildcard(require(\"./utils/utils\"));\n\nvar _nativePromiseOnly = _interopRequireDefault(require(\"native-promise-only\"));\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nvar Form = /*#__PURE__*/function (_Element) {\n  _inherits(Form, _Element);\n\n  var _super = _createSuper(Form);\n  /**\n   * Creates an easy to use interface for embedding webforms, pdfs, and wizards into your application.\n   *\n   * @param {Object} element - The DOM element you wish to render this form within.\n   * @param {Object | string} form - Either a Form JSON schema or the URL of a hosted form via. form.io.\n   * @param {Object} options - The options to create a new form instance.\n   * @param {boolean} options.readOnly - Set this form to readOnly\n   * @param {boolean} options.noAlerts - Set to true to disable the alerts dialog.\n   * @param {boolean} options.i18n - The translation file for this rendering. @see https://github.com/formio/formio.js/blob/master/i18n.js\n   * @param {boolean} options.template - Provides a way to inject custom logic into the creation of every element rendered within the form.\n   *\n   * @example\n   * import Form from 'formiojs/Form';\n   * const form = new Form(document.getElementById('formio'), 'https://examples.form.io/example');\n   * form.build();\n   */\n\n\n  function Form() {\n    var _this;\n\n    _classCallCheck(this, Form);\n\n    var options = (arguments.length <= 0 ? undefined : arguments[0]) instanceof HTMLElement ? arguments.length <= 2 ? undefined : arguments[2] : arguments.length <= 1 ? undefined : arguments[1];\n\n    if (_Formio.GlobalFormio.options && _Formio.GlobalFormio.options.form) {\n      options = Object.assign(options, _Formio.GlobalFormio.options.form);\n    }\n\n    _this = _super.call(this, options);\n    _this.ready = new _nativePromiseOnly.default(function (resolve, reject) {\n      _this.readyResolve = resolve;\n      _this.readyReject = reject;\n    });\n    _this.instance = null;\n\n    if ((arguments.length <= 0 ? undefined : arguments[0]) instanceof HTMLElement) {\n      _this.element = arguments.length <= 0 ? undefined : arguments[0];\n      _this.options = (arguments.length <= 2 ? undefined : arguments[2]) || {};\n      _this.options.events = _this.events;\n\n      _this.setForm(arguments.length <= 1 ? undefined : arguments[1]).then(function () {\n        return _this.readyResolve(_this.instance);\n      }).catch(_this.readyReject);\n    } else if (arguments.length <= 0 ? undefined : arguments[0]) {\n      _this.element = null;\n      _this.options = (arguments.length <= 1 ? undefined : arguments[1]) || {};\n      _this.options.events = _this.events;\n\n      _this.setForm(arguments.length <= 0 ? undefined : arguments[0]).then(function () {\n        return _this.readyResolve(_this.instance);\n      }).catch(_this.readyReject);\n    } else {\n      _this.element = null;\n      _this.options = {};\n      _this.options.events = _this.events;\n    }\n\n    _this.display = '';\n    return _this;\n  }\n  /**\n   * Create a new form instance provided the display of the form.\n   *\n   * @param {string} display - The display of the form, either \"wizard\", \"form\", or \"pdf\"\n   * @return {*}\n   */\n\n\n  _createClass(Form, [{\n    key: \"create\",\n    value: function create(display) {\n      if (this.options && (this.options.flatten || this.options.renderMode === 'flat')) {\n        display = 'form';\n      }\n\n      this.display = display;\n\n      if (_displays.default.displays[display]) {\n        return new _displays.default.displays[display](this.element, this.options);\n      } else {\n        // eslint-disable-next-line new-cap\n        return new _displays.default.displays['webform'](this.element, this.options);\n      }\n    }\n    /**\n     * Sets the form. Either as JSON or a URL to a form JSON schema.\n     *\n     * @param {string|object} formParam - Either the form JSON or the URL of the form json.\n     * @return {*}\n     */\n\n  }, {\n    key: \"form\",\n    get:\n    /**\n     * Returns the loaded forms JSON.\n     *\n     * @return {object} - The loaded form's JSON\n     */\n    function get() {\n      return this._form;\n    }\n    /**\n     * Changes the display of the form.\n     *\n     * @param {string} display - The display to set this form. Either \"wizard\", \"form\", or \"pdf\"\n     * @return {Promise<T>}\n     */\n    ,\n    set: function set(formParam) {\n      return this.setForm(formParam);\n    }\n  }, {\n    key: \"errorForm\",\n    value: function errorForm(err) {\n      return {\n        components: [{\n          'label': 'HTML',\n          'tag': 'div',\n          'className': 'error error-message alert alert-danger ui red message',\n          'attrs': [{\n            'attr': 'role',\n            'value': 'alert'\n          }],\n          'key': 'errorMessage',\n          'type': 'htmlelement',\n          'input': false,\n          'content': typeof err === 'string' ? err : err.message\n        }]\n      };\n    }\n  }, {\n    key: \"setForm\",\n    value: function setForm(formParam) {\n      var _this2 = this;\n\n      var result;\n      formParam = formParam || this.form;\n\n      if (typeof formParam === 'string') {\n        var formio = new _Formio.GlobalFormio(formParam);\n        var error;\n        result = this.getSubmission(formio).catch(function (err) {\n          error = err;\n        }).then(function (submission) {\n          return formio.loadForm() // If the form returned an error, show it instead of the form.\n          .catch(function (err) {\n            error = err;\n          }).then(function (form) {\n            // If the submission returned an error, show it instead of the form.\n            if (error) {\n              form = _this2.errorForm(error);\n            }\n\n            _this2.instance = _this2.instance || _this2.create(form.display);\n            _this2.instance.url = formParam;\n            _this2.instance.nosubmit = false;\n            _this2._form = _this2.instance.form = form;\n\n            if (submission) {\n              _this2.instance.submission = submission;\n            }\n\n            if (error) {\n              throw error;\n            }\n\n            return _this2.instance;\n          });\n        });\n      } else {\n        this.instance = this.instance || this.create(formParam.display);\n        this._form = this.instance.form = formParam;\n        result = this.instance.ready;\n      } // A redraw has occurred so save off the new element in case of a setDisplay causing a rebuild.\n\n\n      return result.then(function () {\n        _this2.element = _this2.instance.element;\n        return _this2.instance;\n      });\n    }\n  }, {\n    key: \"getSubmission\",\n    value: function getSubmission(formio) {\n      if (formio.submissionId) {\n        return formio.loadSubmission();\n      }\n\n      return _nativePromiseOnly.default.resolve();\n    }\n  }, {\n    key: \"setDisplay\",\n    value: function setDisplay(display) {\n      if (this.display === display && this.instance) {\n        return _nativePromiseOnly.default.resolve(this.instance);\n      }\n\n      this.form.display = display;\n      this.instance.destroy();\n      this.instance = this.create(display);\n      return this.setForm(this.form);\n    }\n  }, {\n    key: \"empty\",\n    value: function empty() {\n      if (this.element) {\n        while (this.element.firstChild) {\n          this.element.removeChild(this.element.firstChild);\n        }\n      }\n    }\n  }, {\n    key: \"sanitize\",\n    value:\n    /**\n     * Sanitize an html string.\n     *\n     * @param string\n     * @returns {*}\n     */\n    function sanitize(dirty, forceSanitize) {\n      // If Sanitize is turned off\n      if (this.options.sanitize === false && !forceSanitize) {\n        return dirty;\n      }\n\n      return FormioUtils.sanitize(dirty, this.options);\n    }\n  }, {\n    key: \"setContent\",\n    value: function setContent(element, content, forceSanitize) {\n      if (element instanceof HTMLElement) {\n        element.innerHTML = this.sanitize(content, forceSanitize);\n        return true;\n      }\n\n      return false;\n    }\n    /**\n     * Build a new form.\n     *\n     * @return {Promise<T>}\n     */\n\n  }, {\n    key: \"build\",\n    value: function build() {\n      var _this3 = this;\n\n      if (!this.instance) {\n        return _nativePromiseOnly.default.reject('Form not ready. Use form.ready promise');\n      }\n\n      if (!this.element) {\n        return _nativePromiseOnly.default.reject('No DOM element for form.');\n      } // Add temporary loader.\n\n\n      var template = this.options && this.options.template ? this.options.template : 'bootstrap';\n      var loader = _templates.default[template].loader || _templates.default.bootstrap.loader;\n      this.setContent(this.element, loader.form);\n      return this.render().then(function (html) {\n        _this3.setContent(_this3.element, html);\n\n        return _this3.attach(_this3.element).then(function () {\n          return _this3.instance;\n        });\n      }).then(function (param) {\n        _this3.emit('build', param);\n\n        return param;\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      if (!this.instance) {\n        return _nativePromiseOnly.default.reject('Form not ready. Use form.ready promise');\n      }\n\n      return _nativePromiseOnly.default.resolve(this.instance.render()).then(function (param) {\n        _this4.emit('render', param);\n\n        return param;\n      });\n    }\n  }, {\n    key: \"attach\",\n    value: function attach(element) {\n      var _this5 = this;\n\n      if (!this.instance) {\n        return _nativePromiseOnly.default.reject('Form not ready. Use form.ready promise');\n      }\n\n      this.element = element;\n      return this.instance.attach(this.element).then(function (param) {\n        _this5.emit('attach', param);\n\n        return param;\n      });\n    }\n  }], [{\n    key: \"embed\",\n    value: function embed(_embed) {\n      var _this6 = this;\n\n      return new _nativePromiseOnly.default(function (resolve) {\n        if (!_embed || !_embed.src) {\n          resolve();\n        }\n\n        var id = _this6.id || \"formio-\".concat(Math.random().toString(36).substring(7));\n        var className = _embed.class || 'formio-form-wrapper';\n        var code = _embed.styles ? \"<link rel=\\\"stylesheet\\\" href=\\\"\".concat(_embed.styles, \"\\\">\") : '';\n        code += \"<div id=\\\"\".concat(id, \"\\\" class=\\\"\").concat(className, \"\\\"></div>\");\n        document.write(code);\n        var attempts = 0;\n        var wait = setInterval(function () {\n          attempts++;\n          var formElement = document.getElementById(id);\n\n          if (formElement || attempts > 10) {\n            resolve(new Form(formElement, _embed.src).ready);\n            clearInterval(wait);\n          }\n        }, 10);\n      });\n    }\n  }]);\n\n  return Form;\n}(_Element2.default); // Allow simple embedding.\n\n\nexports.default = Form;\n\n_Formio.GlobalFormio.embedForm = function (embed) {\n  return Form.embed(embed);\n};\n/**\n * Factory that creates a new form based on the form parameters.\n *\n * @param element {HMTLElement} - The HTML Element to add this form to.\n * @param form {string|Object} - The src of the form, or a form object.\n * @param options {Object} - The options to create this form.\n *\n * @return {Promise} - When the form is instance is ready.\n */\n\n\n_Formio.GlobalFormio.createForm = function () {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return _construct(Form, args).ready;\n};\n\n_Formio.GlobalFormio.Form = Form;","map":{"version":3,"sources":["C:/Users/Devin/AOT_Projects/forms-flow-master/forms-flow-ai/forms-flow-web/node_modules/formiojs/Form.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","require","Object","defineProperty","exports","value","default","_Element2","_interopRequireDefault","_Formio","_displays","_templates","FormioUtils","_interopRequireWildcard","_nativePromiseOnly","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","__esModule","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","hasOwnProperty","call","desc","set","_construct","Parent","args","Class","_isNativeReflectConstruct","Reflect","construct","a","push","apply","Constructor","Function","bind","instance","_setPrototypeOf","arguments","_classCallCheck","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","Form","_Element","_super","_this","options","undefined","HTMLElement","GlobalFormio","form","assign","ready","resolve","reject","readyResolve","readyReject","element","events","setForm","then","catch","display","flatten","renderMode","displays","_form","formParam","errorForm","err","components","message","_this2","formio","error","getSubmission","submission","loadForm","url","nosubmit","submissionId","loadSubmission","setDisplay","destroy","empty","firstChild","removeChild","sanitize","dirty","forceSanitize","setContent","content","innerHTML","build","_this3","template","loader","bootstrap","render","html","attach","param","emit","_this4","_this5","embed","_embed","_this6","src","id","concat","Math","random","toString","substring","className","class","code","styles","document","write","attempts","wait","setInterval","formElement","getElementById","clearInterval","embedForm","createForm","_len","Array","_key"],"mappings":"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","sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nrequire(\"core-js/modules/es.reflect.construct.js\");\n\nrequire(\"core-js/modules/es.array.iterator.js\");\n\nrequire(\"core-js/modules/es.string.iterator.js\");\n\nrequire(\"core-js/modules/es.weak-map.js\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptor.js\");\n\nrequire(\"core-js/modules/es.symbol.js\");\n\nrequire(\"core-js/modules/es.symbol.description.js\");\n\nrequire(\"core-js/modules/es.symbol.iterator.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es.object.assign.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.regexp.to-string.js\");\n\nrequire(\"core-js/modules/es.array.concat.js\");\n\nrequire(\"core-js/modules/es.object.get-prototype-of.js\");\n\nvar _Element2 = _interopRequireDefault(require(\"./Element\"));\n\nvar _Formio = require(\"./Formio\");\n\nvar _displays = _interopRequireDefault(require(\"./displays\"));\n\nvar _templates = _interopRequireDefault(require(\"./templates\"));\n\nvar FormioUtils = _interopRequireWildcard(require(\"./utils/utils\"));\n\nvar _nativePromiseOnly = _interopRequireDefault(require(\"native-promise-only\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar Form = /*#__PURE__*/function (_Element) {\n  _inherits(Form, _Element);\n\n  var _super = _createSuper(Form);\n\n  /**\n   * Creates an easy to use interface for embedding webforms, pdfs, and wizards into your application.\n   *\n   * @param {Object} element - The DOM element you wish to render this form within.\n   * @param {Object | string} form - Either a Form JSON schema or the URL of a hosted form via. form.io.\n   * @param {Object} options - The options to create a new form instance.\n   * @param {boolean} options.readOnly - Set this form to readOnly\n   * @param {boolean} options.noAlerts - Set to true to disable the alerts dialog.\n   * @param {boolean} options.i18n - The translation file for this rendering. @see https://github.com/formio/formio.js/blob/master/i18n.js\n   * @param {boolean} options.template - Provides a way to inject custom logic into the creation of every element rendered within the form.\n   *\n   * @example\n   * import Form from 'formiojs/Form';\n   * const form = new Form(document.getElementById('formio'), 'https://examples.form.io/example');\n   * form.build();\n   */\n  function Form() {\n    var _this;\n\n    _classCallCheck(this, Form);\n\n    var options = (arguments.length <= 0 ? undefined : arguments[0]) instanceof HTMLElement ? arguments.length <= 2 ? undefined : arguments[2] : arguments.length <= 1 ? undefined : arguments[1];\n\n    if (_Formio.GlobalFormio.options && _Formio.GlobalFormio.options.form) {\n      options = Object.assign(options, _Formio.GlobalFormio.options.form);\n    }\n\n    _this = _super.call(this, options);\n    _this.ready = new _nativePromiseOnly.default(function (resolve, reject) {\n      _this.readyResolve = resolve;\n      _this.readyReject = reject;\n    });\n    _this.instance = null;\n\n    if ((arguments.length <= 0 ? undefined : arguments[0]) instanceof HTMLElement) {\n      _this.element = arguments.length <= 0 ? undefined : arguments[0];\n      _this.options = (arguments.length <= 2 ? undefined : arguments[2]) || {};\n      _this.options.events = _this.events;\n\n      _this.setForm(arguments.length <= 1 ? undefined : arguments[1]).then(function () {\n        return _this.readyResolve(_this.instance);\n      }).catch(_this.readyReject);\n    } else if (arguments.length <= 0 ? undefined : arguments[0]) {\n      _this.element = null;\n      _this.options = (arguments.length <= 1 ? undefined : arguments[1]) || {};\n      _this.options.events = _this.events;\n\n      _this.setForm(arguments.length <= 0 ? undefined : arguments[0]).then(function () {\n        return _this.readyResolve(_this.instance);\n      }).catch(_this.readyReject);\n    } else {\n      _this.element = null;\n      _this.options = {};\n      _this.options.events = _this.events;\n    }\n\n    _this.display = '';\n    return _this;\n  }\n  /**\n   * Create a new form instance provided the display of the form.\n   *\n   * @param {string} display - The display of the form, either \"wizard\", \"form\", or \"pdf\"\n   * @return {*}\n   */\n\n\n  _createClass(Form, [{\n    key: \"create\",\n    value: function create(display) {\n      if (this.options && (this.options.flatten || this.options.renderMode === 'flat')) {\n        display = 'form';\n      }\n\n      this.display = display;\n\n      if (_displays.default.displays[display]) {\n        return new _displays.default.displays[display](this.element, this.options);\n      } else {\n        // eslint-disable-next-line new-cap\n        return new _displays.default.displays['webform'](this.element, this.options);\n      }\n    }\n    /**\n     * Sets the form. Either as JSON or a URL to a form JSON schema.\n     *\n     * @param {string|object} formParam - Either the form JSON or the URL of the form json.\n     * @return {*}\n     */\n\n  }, {\n    key: \"form\",\n    get:\n    /**\n     * Returns the loaded forms JSON.\n     *\n     * @return {object} - The loaded form's JSON\n     */\n    function get() {\n      return this._form;\n    }\n    /**\n     * Changes the display of the form.\n     *\n     * @param {string} display - The display to set this form. Either \"wizard\", \"form\", or \"pdf\"\n     * @return {Promise<T>}\n     */\n    ,\n    set: function set(formParam) {\n      return this.setForm(formParam);\n    }\n  }, {\n    key: \"errorForm\",\n    value: function errorForm(err) {\n      return {\n        components: [{\n          'label': 'HTML',\n          'tag': 'div',\n          'className': 'error error-message alert alert-danger ui red message',\n          'attrs': [{\n            'attr': 'role',\n            'value': 'alert'\n          }],\n          'key': 'errorMessage',\n          'type': 'htmlelement',\n          'input': false,\n          'content': typeof err === 'string' ? err : err.message\n        }]\n      };\n    }\n  }, {\n    key: \"setForm\",\n    value: function setForm(formParam) {\n      var _this2 = this;\n\n      var result;\n      formParam = formParam || this.form;\n\n      if (typeof formParam === 'string') {\n        var formio = new _Formio.GlobalFormio(formParam);\n        var error;\n        result = this.getSubmission(formio).catch(function (err) {\n          error = err;\n        }).then(function (submission) {\n          return formio.loadForm() // If the form returned an error, show it instead of the form.\n          .catch(function (err) {\n            error = err;\n          }).then(function (form) {\n            // If the submission returned an error, show it instead of the form.\n            if (error) {\n              form = _this2.errorForm(error);\n            }\n\n            _this2.instance = _this2.instance || _this2.create(form.display);\n            _this2.instance.url = formParam;\n            _this2.instance.nosubmit = false;\n            _this2._form = _this2.instance.form = form;\n\n            if (submission) {\n              _this2.instance.submission = submission;\n            }\n\n            if (error) {\n              throw error;\n            }\n\n            return _this2.instance;\n          });\n        });\n      } else {\n        this.instance = this.instance || this.create(formParam.display);\n        this._form = this.instance.form = formParam;\n        result = this.instance.ready;\n      } // A redraw has occurred so save off the new element in case of a setDisplay causing a rebuild.\n\n\n      return result.then(function () {\n        _this2.element = _this2.instance.element;\n        return _this2.instance;\n      });\n    }\n  }, {\n    key: \"getSubmission\",\n    value: function getSubmission(formio) {\n      if (formio.submissionId) {\n        return formio.loadSubmission();\n      }\n\n      return _nativePromiseOnly.default.resolve();\n    }\n  }, {\n    key: \"setDisplay\",\n    value: function setDisplay(display) {\n      if (this.display === display && this.instance) {\n        return _nativePromiseOnly.default.resolve(this.instance);\n      }\n\n      this.form.display = display;\n      this.instance.destroy();\n      this.instance = this.create(display);\n      return this.setForm(this.form);\n    }\n  }, {\n    key: \"empty\",\n    value: function empty() {\n      if (this.element) {\n        while (this.element.firstChild) {\n          this.element.removeChild(this.element.firstChild);\n        }\n      }\n    }\n  }, {\n    key: \"sanitize\",\n    value:\n    /**\n     * Sanitize an html string.\n     *\n     * @param string\n     * @returns {*}\n     */\n    function sanitize(dirty, forceSanitize) {\n      // If Sanitize is turned off\n      if (this.options.sanitize === false && !forceSanitize) {\n        return dirty;\n      }\n\n      return FormioUtils.sanitize(dirty, this.options);\n    }\n  }, {\n    key: \"setContent\",\n    value: function setContent(element, content, forceSanitize) {\n      if (element instanceof HTMLElement) {\n        element.innerHTML = this.sanitize(content, forceSanitize);\n        return true;\n      }\n\n      return false;\n    }\n    /**\n     * Build a new form.\n     *\n     * @return {Promise<T>}\n     */\n\n  }, {\n    key: \"build\",\n    value: function build() {\n      var _this3 = this;\n\n      if (!this.instance) {\n        return _nativePromiseOnly.default.reject('Form not ready. Use form.ready promise');\n      }\n\n      if (!this.element) {\n        return _nativePromiseOnly.default.reject('No DOM element for form.');\n      } // Add temporary loader.\n\n\n      var template = this.options && this.options.template ? this.options.template : 'bootstrap';\n      var loader = _templates.default[template].loader || _templates.default.bootstrap.loader;\n      this.setContent(this.element, loader.form);\n      return this.render().then(function (html) {\n        _this3.setContent(_this3.element, html);\n\n        return _this3.attach(_this3.element).then(function () {\n          return _this3.instance;\n        });\n      }).then(function (param) {\n        _this3.emit('build', param);\n\n        return param;\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      if (!this.instance) {\n        return _nativePromiseOnly.default.reject('Form not ready. Use form.ready promise');\n      }\n\n      return _nativePromiseOnly.default.resolve(this.instance.render()).then(function (param) {\n        _this4.emit('render', param);\n\n        return param;\n      });\n    }\n  }, {\n    key: \"attach\",\n    value: function attach(element) {\n      var _this5 = this;\n\n      if (!this.instance) {\n        return _nativePromiseOnly.default.reject('Form not ready. Use form.ready promise');\n      }\n\n      this.element = element;\n      return this.instance.attach(this.element).then(function (param) {\n        _this5.emit('attach', param);\n\n        return param;\n      });\n    }\n  }], [{\n    key: \"embed\",\n    value: function embed(_embed) {\n      var _this6 = this;\n\n      return new _nativePromiseOnly.default(function (resolve) {\n        if (!_embed || !_embed.src) {\n          resolve();\n        }\n\n        var id = _this6.id || \"formio-\".concat(Math.random().toString(36).substring(7));\n        var className = _embed.class || 'formio-form-wrapper';\n        var code = _embed.styles ? \"<link rel=\\\"stylesheet\\\" href=\\\"\".concat(_embed.styles, \"\\\">\") : '';\n        code += \"<div id=\\\"\".concat(id, \"\\\" class=\\\"\").concat(className, \"\\\"></div>\");\n        document.write(code);\n        var attempts = 0;\n        var wait = setInterval(function () {\n          attempts++;\n          var formElement = document.getElementById(id);\n\n          if (formElement || attempts > 10) {\n            resolve(new Form(formElement, _embed.src).ready);\n            clearInterval(wait);\n          }\n        }, 10);\n      });\n    }\n  }]);\n\n  return Form;\n}(_Element2.default); // Allow simple embedding.\n\n\nexports.default = Form;\n\n_Formio.GlobalFormio.embedForm = function (embed) {\n  return Form.embed(embed);\n};\n/**\n * Factory that creates a new form based on the form parameters.\n *\n * @param element {HMTLElement} - The HTML Element to add this form to.\n * @param form {string|Object} - The src of the form, or a form object.\n * @param options {Object} - The options to create this form.\n *\n * @return {Promise} - When the form is instance is ready.\n */\n\n\n_Formio.GlobalFormio.createForm = function () {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return _construct(Form, args).ready;\n};\n\n_Formio.GlobalFormio.Form = Form;"]},"metadata":{},"sourceType":"script"}