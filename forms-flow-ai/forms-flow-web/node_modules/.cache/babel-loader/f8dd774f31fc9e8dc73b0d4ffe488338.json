{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Devin\\\\AOT_Projects\\\\jag-servebc\\\\forms-flow-ai\\\\forms-flow-web\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectSpread2.js\";\nimport _objectWithoutProperties from \"C:\\\\Users\\\\Devin\\\\AOT_Projects\\\\jag-servebc\\\\forms-flow-ai\\\\forms-flow-web\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectWithoutProperties.js\";\nvar _excluded = [\"component\"],\n    _excluded2 = [\"component\"];\n\nvar _jsxFileName = \"C:\\\\Users\\\\Devin\\\\AOT_Projects\\\\jag-servebc\\\\forms-flow-ai\\\\forms-flow-web\\\\src\\\\components\\\\Form\\\\index.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport List from \"./List\";\nimport Stepper from \"./Stepper\";\nimport Item from \"./Item/index\";\nimport { STAFF_DESIGNER, STAFF_REVIEWER, CLIENT } from \"../../constants/constants\";\nimport Loading from \"../../containers/Loading\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar user = \"\";\n\nvar CreateFormRoute = function CreateFormRoute(_ref) {\n  var Component = _ref.component,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/_jsxDEV(Route, _objectSpread(_objectSpread({}, rest), {}, {\n    render: function render(props) {\n      if (user.includes(STAFF_DESIGNER)) {\n        return /*#__PURE__*/_jsxDEV(Component, _objectSpread({}, props), void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 18,\n          columnNumber: 16\n        }, _this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(Redirect, {\n          exact: true,\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 16\n        }, _this);\n      }\n    }\n  }), void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 3\n  }, _this);\n};\n\n_c = CreateFormRoute;\n\nvar FormSubmissionRoute = function FormSubmissionRoute(_ref2) {\n  var Component = _ref2.component,\n      rest = _objectWithoutProperties(_ref2, _excluded2);\n\n  return /*#__PURE__*/_jsxDEV(Route, _objectSpread(_objectSpread({}, rest), {}, {\n    render: function render(props) {\n      return user.includes(STAFF_REVIEWER) || user.includes(CLIENT) ? /*#__PURE__*/_jsxDEV(Component, _objectSpread({}, props), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, _this) : /*#__PURE__*/_jsxDEV(Redirect, {\n        exact: true,\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, _this);\n    }\n  }), void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 3\n  }, _this);\n};\n\n_c2 = FormSubmissionRoute;\nexport default _c4 = /*#__PURE__*/React.memo(_c3 = _s(function () {\n  _s();\n\n  user = useSelector(function (state) {\n    return state.user.roles || [];\n  });\n  var isAuthenticated = useSelector(function (state) {\n    return state.user.isAuthenticated;\n  });\n\n  if (!isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 12\n    }, _this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    id: \"main\",\n    \"data-testid\": \"Form-index\",\n    children: /*#__PURE__*/_jsxDEV(Switch, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/form\",\n        component: List\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(CreateFormRoute, {\n        path: \"/formflow/:formId?/:step?\",\n        component: Stepper\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(FormSubmissionRoute, {\n        path: \"/form/:formId/\",\n        component: Item\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, _this);\n}, \"HG2F2JSL1krwfN/oNxDQCNn6jjQ=\", false, function () {\n  return [useSelector, useSelector];\n}));\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"CreateFormRoute\");\n$RefreshReg$(_c2, \"FormSubmissionRoute\");\n$RefreshReg$(_c3, \"%default%$React.memo\");\n$RefreshReg$(_c4, \"%default%\");","map":{"version":3,"sources":["C:/Users/Devin/AOT_Projects/jag-servebc/forms-flow-ai/forms-flow-web/src/components/Form/index.js"],"names":["React","Route","Switch","Redirect","useSelector","List","Stepper","Item","STAFF_DESIGNER","STAFF_REVIEWER","CLIENT","Loading","user","CreateFormRoute","Component","component","rest","props","includes","FormSubmissionRoute","memo","state","roles","isAuthenticated"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Route, Switch, Redirect } from \"react-router-dom\";\r\nimport {useSelector} from \"react-redux\";\r\n\r\nimport List from \"./List\";\r\nimport Stepper from \"./Stepper\";\r\nimport Item from \"./Item/index\";\r\nimport { STAFF_DESIGNER, STAFF_REVIEWER, CLIENT } from \"../../constants/constants\";\r\nimport Loading from \"../../containers/Loading\";\r\n\r\nlet user = \"\";\r\n\r\nconst CreateFormRoute = ({ component: Component, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) => {\r\n      if(user.includes(STAFF_DESIGNER)){\r\n        return <Component {...props} />;\r\n      } else{\r\n        return <Redirect exact to=\"/\" />\r\n      }\r\n    }\r\n    }\r\n  />\r\n);\r\nconst FormSubmissionRoute = ({ component: Component, ...rest }) => (\r\n  <Route {...rest} render={(props) => (\r\n    user.includes(STAFF_REVIEWER) || user.includes(CLIENT)\r\n      ? <Component {...props} />\r\n      : <Redirect exact to='/' />\r\n  )} />\r\n);\r\n\r\n\r\nexport default React.memo(() => {\r\n  user = useSelector(state=>state.user.roles || []);\r\n  const isAuthenticated = useSelector(state=>state.user.isAuthenticated);\r\n  if (!isAuthenticated) {\r\n    return <Loading />;\r\n  }\r\n  return (\r\n    <div className=\"container\" id=\"main\" data-testid=\"Form-index\">\r\n      <Switch>\r\n        <Route exact path=\"/form\" component={List} />\r\n        <CreateFormRoute\r\n          path=\"/formflow/:formId?/:step?\"\r\n          component={Stepper}\r\n        />\r\n        <FormSubmissionRoute path=\"/form/:formId/\" component={Item}/>\r\n      </Switch>\r\n    </div>\r\n  );\r\n});\r\n"]},"metadata":{},"sourceType":"module"}