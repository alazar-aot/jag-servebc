{"ast":null,"code":"import _toConsumableArray from \"C:/Users/Devin/AOT_Projects/jag-servebc/forms-flow-ai/forms-flow-web/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _objectSpread from \"C:/Users/Devin/AOT_Projects/jag-servebc/forms-flow-ai/forms-flow-web/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Devin\\\\AOT_Projects\\\\jag-servebc\\\\forms-flow-ai\\\\forms-flow-web\\\\src\\\\components\\\\TaskView\\\\index.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useEffect, useRef } from \"react\";\nimport ServiceFlowTaskDetails from \"../ServiceFlow/details/ServiceTaskDetails\";\nimport { fetchFilterList, fetchProcessDefinitionList, fetchServiceTaskList, getBPMGroups, getBPMTaskDetail } from \"../../apiManager/services/bpmTaskServices\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { reloadTaskFormSubmission, setBPMFilterLoader, setBPMTaskDetailLoader, setFilterListParams, setSelectedTaskID } from \"../../actions/bpmTaskActions\";\nimport SocketIOService from \"../../services/SocketIOService\";\nimport isEqual from 'lodash/isEqual';\nimport cloneDeep from 'lodash/cloneDeep';\nimport { Route, Redirect } from \"react-router-dom\";\nimport { push } from \"connected-react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar TaskView = /*#__PURE__*/React.memo(_c = _s(function () {\n  _s();\n\n  var dispatch = useDispatch();\n  var selectedFilterId = useSelector(function (state) {\n    var _state$bpmTasks$selec;\n\n    return ((_state$bpmTasks$selec = state.bpmTasks.selectedFilter) === null || _state$bpmTasks$selec === void 0 ? void 0 : _state$bpmTasks$selec.id) || null;\n  });\n  var bpmTaskId = useSelector(function (state) {\n    return state.bpmTasks.taskId;\n  });\n  var reqData = useSelector(function (state) {\n    return state.bpmTasks.listReqParams;\n  });\n  var sortParams = useSelector(function (state) {\n    return state.bpmTasks.filterListSortParams;\n  });\n  var searchParams = useSelector(function (state) {\n    return state.bpmTasks.filterListSearchParams;\n  });\n  var listReqParams = useSelector(function (state) {\n    return state.bpmTasks.listReqParams;\n  });\n  var currentUser = useSelector(function (state) {\n    var _state$user, _state$user$userDetai;\n\n    return ((_state$user = state.user) === null || _state$user === void 0 ? void 0 : (_state$user$userDetai = _state$user.userDetail) === null || _state$user$userDetai === void 0 ? void 0 : _state$user$userDetai.preferred_username) || '';\n  });\n  var firstResult = useSelector(function (state) {\n    return state.bpmTasks.firstResult;\n  });\n  var taskList = useSelector(function (state) {\n    return state.bpmTasks.tasksList;\n  }); //const selectedFilterIdRef = useRef(selectedFilterId);\n\n  var bpmTaskIdRef = useRef(bpmTaskId);\n  var reqDataRef = useRef(reqData);\n  var firstResultsRef = useRef(firstResult);\n  var taskListRef = useRef(taskList);\n  useEffect(function () {\n    selectedFilterIdRef.current = selectedFilterId;\n    bpmTaskIdRef.current = bpmTaskId;\n    reqDataRef.current = reqData;\n    firstResultsRef.current = firstResult;\n    taskListRef.current = taskList;\n  });\n  useEffect(function () {\n    var reqParamData = _objectSpread(_objectSpread({}, {\n      sorting: _toConsumableArray(sortParams.sorting)\n    }), searchParams);\n\n    if (!isEqual(reqParamData, listReqParams)) {\n      dispatch(setFilterListParams(cloneDeep(reqParamData)));\n    }\n  }, [searchParams, sortParams, dispatch, listReqParams]);\n  useEffect(function () {\n    dispatch(setBPMFilterLoader(true));\n    dispatch(fetchFilterList());\n    dispatch(fetchProcessDefinitionList()); // dispatch(fetchUserList());\n  }, [dispatch]);\n\n  var checkIfTaskIDExistsInList = function checkIfTaskIDExistsInList(list, id) {\n    return list.some(function (task) {\n      return task.id === id;\n    });\n  };\n\n  var SocketIOCallback = useCallback(function (refreshedTaskId, forceReload, isUpdateEvent) {\n    if (forceReload) {\n      dispatch(fetchServiceTaskList(selectedFilterIdRef.current, firstResultsRef.current, reqDataRef.current, refreshedTaskId)); //Refreshes the Tasks\n\n      if (bpmTaskIdRef.current && refreshedTaskId === bpmTaskIdRef.current) {\n        dispatch(setBPMTaskDetailLoader(true));\n        dispatch(setSelectedTaskID(null)); // unSelect the Task Selected\n\n        dispatch(push(\"/task/\"));\n      }\n    } else {\n      if (selectedFilterIdRef.current) {\n        if (isUpdateEvent) {\n          /* Check if the taskId exists in the loaded Task List */\n          if (checkIfTaskIDExistsInList(taskListRef.current, refreshedTaskId) === true) {\n            dispatch(fetchServiceTaskList(selectedFilterIdRef.current, firstResultsRef.current, reqDataRef.current)); //Refreshes the Task\n          }\n        } else {\n          dispatch(fetchServiceTaskList(selectedFilterIdRef.current, firstResultsRef.current, reqDataRef.current)); //Refreshes the Task\n        }\n      }\n\n      if (bpmTaskIdRef.current && refreshedTaskId === bpmTaskIdRef.current) {\n        //Refreshes task if its selected\n        dispatch(getBPMTaskDetail(bpmTaskIdRef.current, function (err, resTask) {\n          // Should dispatch When task claimed user  is not the logged in User\n          if ((resTask === null || resTask === void 0 ? void 0 : resTask.assignee) !== currentUser) {\n            dispatch(reloadTaskFormSubmission(true));\n          }\n        }));\n        dispatch(getBPMGroups(bpmTaskIdRef.current));\n      }\n    }\n  }, [dispatch, currentUser]);\n  useEffect(function () {\n    if (!SocketIOService.isConnected()) {\n      SocketIOService.connect(function (refreshedTaskId, forceReload, isUpdateEvent) {\n        return SocketIOCallback(refreshedTaskId, forceReload, isUpdateEvent);\n      });\n    } else {\n      SocketIOService.disconnect();\n      SocketIOService.connect(function (refreshedTaskId, forceReload, isUpdateEvent) {\n        return SocketIOCallback(refreshedTaskId, forceReload, isUpdateEvent);\n      });\n    }\n\n    return function () {\n      if (SocketIOService.isConnected()) SocketIOService.disconnect();\n    };\n  }, [SocketIOCallback, dispatch]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    id: \"main\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-item-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Hello world\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/task/:taskId?\",\n          children: /*#__PURE__*/_jsxDEV(ServiceFlowTaskDetails, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 52\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/task/:taskId/:notAvailable\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(Redirect, {\n            exact: true,\n            to: \"/404\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 66\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 9\n  }, _this);\n}, \"oI9MDKXQnYmx9Y5+9rtcDGC84BE=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector];\n}));\n_c2 = TaskView;\nexport default TaskView;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"TaskView$React.memo\");\n$RefreshReg$(_c2, \"TaskView\");","map":{"version":3,"names":["React","useCallback","useEffect","useRef","ServiceFlowTaskDetails","fetchFilterList","fetchProcessDefinitionList","fetchServiceTaskList","getBPMGroups","getBPMTaskDetail","useDispatch","useSelector","reloadTaskFormSubmission","setBPMFilterLoader","setBPMTaskDetailLoader","setFilterListParams","setSelectedTaskID","SocketIOService","isEqual","cloneDeep","Route","Redirect","push","TaskView","memo","dispatch","selectedFilterId","state","bpmTasks","selectedFilter","id","bpmTaskId","taskId","reqData","listReqParams","sortParams","filterListSortParams","searchParams","filterListSearchParams","currentUser","user","userDetail","preferred_username","firstResult","taskList","tasksList","bpmTaskIdRef","reqDataRef","firstResultsRef","taskListRef","selectedFilterIdRef","current","reqParamData","sorting","checkIfTaskIDExistsInList","list","some","task","SocketIOCallback","refreshedTaskId","forceReload","isUpdateEvent","err","resTask","assignee","isConnected","connect","disconnect"],"sources":["C:/Users/Devin/AOT_Projects/jag-servebc/forms-flow-ai/forms-flow-web/src/components/TaskView/index.js"],"sourcesContent":["import React, {useCallback, useEffect, useRef} from \"react\";\r\nimport ServiceFlowTaskDetails from \"../ServiceFlow/details/ServiceTaskDetails\";\r\nimport {\r\n    fetchFilterList,\r\n    fetchProcessDefinitionList,\r\n    fetchServiceTaskList,\r\n    getBPMGroups, getBPMTaskDetail\r\n} from \"../../apiManager/services/bpmTaskServices\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n    reloadTaskFormSubmission,\r\n    setBPMFilterLoader,\r\n    setBPMTaskDetailLoader,\r\n    setFilterListParams,\r\n    setSelectedTaskID\r\n} from \"../../actions/bpmTaskActions\";\r\nimport SocketIOService from \"../../services/SocketIOService\";\r\nimport isEqual from 'lodash/isEqual';\r\nimport cloneDeep from 'lodash/cloneDeep';\r\nimport {Route, Redirect} from \"react-router-dom\";\r\nimport {push} from \"connected-react-router\";\r\n\r\nconst TaskView = React.memo(() => {\r\n    const dispatch = useDispatch();\r\n    const selectedFilterId = useSelector(state => state.bpmTasks.selectedFilter?.id || null);\r\n    const bpmTaskId = useSelector(state => state.bpmTasks.taskId);\r\n    const reqData = useSelector((state) => state.bpmTasks.listReqParams);\r\n    const sortParams = useSelector((state) => state.bpmTasks.filterListSortParams);\r\n    const searchParams = useSelector((state) => state.bpmTasks.filterListSearchParams);\r\n    const listReqParams = useSelector((state) => state.bpmTasks.listReqParams);\r\n    const currentUser = useSelector((state) => state.user?.userDetail?.preferred_username || '');\r\n    const firstResult = useSelector(state => state.bpmTasks.firstResult);\r\n    const taskList = useSelector((state) => state.bpmTasks.tasksList);\r\n    //const selectedFilterIdRef = useRef(selectedFilterId);\r\n    const bpmTaskIdRef = useRef(bpmTaskId);\r\n    const reqDataRef = useRef(reqData);\r\n    const firstResultsRef = useRef(firstResult);\r\n    const taskListRef = useRef(taskList);\r\n\r\n    useEffect(() => {\r\n        selectedFilterIdRef.current = selectedFilterId;\r\n        bpmTaskIdRef.current = bpmTaskId;\r\n        reqDataRef.current = reqData;\r\n        firstResultsRef.current = firstResult;\r\n        taskListRef.current = taskList;\r\n    });\r\n\r\n    useEffect(() => {\r\n        const reqParamData = { ...{ sorting: [...sortParams.sorting] }, ...searchParams };\r\n        if (!isEqual(reqParamData, listReqParams)) {\r\n            dispatch(setFilterListParams(cloneDeep(reqParamData)))\r\n        }\r\n    }, [searchParams, sortParams, dispatch, listReqParams])\r\n\r\n    useEffect(() => {\r\n        dispatch(setBPMFilterLoader(true));\r\n        dispatch(fetchFilterList());\r\n        dispatch(fetchProcessDefinitionList());\r\n        // dispatch(fetchUserList());\r\n    }, [dispatch]);\r\n\r\n\r\n    const checkIfTaskIDExistsInList = (list, id) => {\r\n        return list.some(task => task.id === id);\r\n    }\r\n    const SocketIOCallback = useCallback((refreshedTaskId, forceReload, isUpdateEvent) => {\r\n        if (forceReload) {\r\n            dispatch(fetchServiceTaskList(selectedFilterIdRef.current, firstResultsRef.current, reqDataRef.current, refreshedTaskId)); //Refreshes the Tasks\r\n            if (bpmTaskIdRef.current && refreshedTaskId === bpmTaskIdRef.current) {\r\n                dispatch(setBPMTaskDetailLoader(true));\r\n                dispatch(setSelectedTaskID(null)); // unSelect the Task Selected\r\n                dispatch(push(`/task/`));\r\n            }\r\n        } else {\r\n            if (selectedFilterIdRef.current) {\r\n                if (isUpdateEvent) {\r\n                    /* Check if the taskId exists in the loaded Task List */\r\n                    if (checkIfTaskIDExistsInList(taskListRef.current, refreshedTaskId) === true) {\r\n                        dispatch(fetchServiceTaskList(selectedFilterIdRef.current, firstResultsRef.current, reqDataRef.current)); //Refreshes the Task\r\n                    }\r\n                } else {\r\n                    dispatch(fetchServiceTaskList(selectedFilterIdRef.current, firstResultsRef.current, reqDataRef.current)); //Refreshes the Task\r\n                }\r\n            }\r\n            if (bpmTaskIdRef.current && refreshedTaskId === bpmTaskIdRef.current) { //Refreshes task if its selected\r\n                dispatch(getBPMTaskDetail(bpmTaskIdRef.current, (err, resTask) => {\r\n                    // Should dispatch When task claimed user  is not the logged in User\r\n                    if (resTask?.assignee !== currentUser) {\r\n                        dispatch(reloadTaskFormSubmission(true));\r\n                    }\r\n                }));\r\n                dispatch(getBPMGroups(bpmTaskIdRef.current));\r\n            }\r\n        }\r\n    }\r\n        , [dispatch, currentUser]);\r\n\r\n    useEffect(() => {\r\n        if (!SocketIOService.isConnected()) {\r\n            SocketIOService.connect((refreshedTaskId, forceReload, isUpdateEvent) => SocketIOCallback(refreshedTaskId, forceReload, isUpdateEvent));\r\n        } else {\r\n            SocketIOService.disconnect();\r\n            SocketIOService.connect((refreshedTaskId, forceReload, isUpdateEvent) => SocketIOCallback(refreshedTaskId, forceReload, isUpdateEvent));\r\n        }\r\n        return () => {\r\n            if (SocketIOService.isConnected())\r\n                SocketIOService.disconnect();\r\n        }\r\n    }, [SocketIOCallback, dispatch]);\r\n\r\n    return (\r\n        <div className=\"container\" id=\"main\">\r\n\r\n            <div className=\"flex-container\">\r\n                <div className=\"flex-item-left\">\r\n                    <h2>Hello world</h2>\r\n                    <Route path={\"/task/:taskId?\"}><ServiceFlowTaskDetails/></Route>\r\n                    <Route path={\"/task/:taskId/:notAvailable\"}> <Redirect exact to='/404'/></Route>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n);\r\nexport default TaskView;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}